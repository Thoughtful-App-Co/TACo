# .dev.vars.example
# Copy this file to .dev.vars and add your actual values
# .dev.vars is used by Wrangler for local development secrets

# =============================================================================
# SECRET NAMING PATTERN: TEST/LIVE
# =============================================================================
# WHY: Cloudflare Pages secrets are SHARED between preview and production
# SOLUTION: Use TEST/LIVE suffixes and select at runtime via TACO_ENV
#
# Local development: Uses TEST secrets (this file)
# Cloudflare Pages: Contains BOTH test and live secrets (dashboard)
# Runtime: Code checks context.env.TACO_ENV to select the right secret
#
# Example:
#   const jwtSecret = env.TACO_ENV === 'production' 
#     ? env.JWT_SECRET_PROD 
#     : env.JWT_SECRET_TEST;
# =============================================================================

# =============================================================================
# ENVIRONMENT-SPECIFIC SECRETS (use TEST suffix for local development)
# =============================================================================
# These secrets differ between test/preview and production environments
# For local dev, only set the TEST versions
# For Cloudflare Pages deployment, set BOTH test and live in the dashboard

# JWT Secrets for authentication tokens
# Generate TWO different secrets with: openssl rand -base64 32
JWT_SECRET_TEST=your-test-jwt-secret-at-least-32-chars
JWT_SECRET_PROD=your-production-jwt-secret-different-from-test

# Stripe API Keys
# Get from: https://dashboard.stripe.com/apikeys
# TEST: Use test mode keys (sk_test_xxx, pk_test_xxx)
# LIVE: Use live mode keys (sk_live_xxx, pk_live_xxx)
STRIPE_SECRET_KEY_TEST=sk_test_your-stripe-secret-key
STRIPE_SECRET_KEY_LIVE=sk_live_your-production-stripe-key
STRIPE_PUBLISHABLE_KEY=pk_test_your-stripe-publishable-key

# Stripe Webhook Secrets
# TEST: Get with: stripe listen --forward-to localhost:8787/api/stripe/webhook
# LIVE: Create endpoint at https://dashboard.stripe.com/webhooks
STRIPE_WEBHOOK_SECRET_TEST=whsec_test_your-webhook-secret
STRIPE_WEBHOOK_SECRET_LIVE=whsec_live_your-production-webhook

# =============================================================================
# SHARED SECRETS (same for all environments)
# =============================================================================
# These secrets use the same value in local, preview, and production

# Resend API Key for magic link emails
# Get from: https://resend.com/api-keys
# Free tier: 100 emails/day
RESEND_API_KEY=re_your-resend-api-key
RESEND_FROM_EMAIL=Thoughtful App Co <auth@thoughtfulapp.co>

# Anthropic Claude API Key
# Get from: https://console.anthropic.com/
# NOTE: With "Bring Your Own Key" feature, this is optional for local dev
ANTHROPIC_API_KEY=sk-ant-your-key-here

# O*NET Web Services API Key
# Register at: https://services.onetcenter.org/reference/
# Features: Career search, RIASEC assessment, occupation details
# Note: Rate limiting enforced at 10 req/min per IP
ONET_API_KEY=your-onet-api-key-here

# Bureau of Labor Statistics (BLS) API Key
# Register at: https://data.bls.gov/registrationEngine/
# Free tier: 500 requests/day, employment statistics, wages, CPI data
BLS_API_KEY=your-bls-registration-key-here

# The Guardian API Key (for Paper Trail)
# Get from: https://open-platform.theguardian.com/access/
# Free tier: 5,000 requests/day
GUARDIAN_API_KEY=your-guardian-api-key-here

# GNews API Key (for Paper Trail)
# Get from: https://gnews.io/
# Free tier: 100 requests/day
GNEWS_API_KEY=your-gnews-api-key-here

# =============================================================================
# DEVELOPMENT CONFIGURATION
# =============================================================================

# Frontend URL for magic link redirects
# Local dev: http://localhost:3000
# Production: https://your-domain.com
FRONTEND_URL=http://localhost:3000

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Feature Flags (for development/staging)
# Set to "true" to enable features not yet ready for production
VITE_FEATURE_MATCHES=true
